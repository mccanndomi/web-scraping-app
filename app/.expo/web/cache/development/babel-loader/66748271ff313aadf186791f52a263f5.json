{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/dommccann/Documents/Personal/git/web-scraping-app/app/components/Comment.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Avatar } from \"../components/Avatar\";\nimport { firebase } from \"../services/Firebase\";\n\nvar Comment = function Comment(props) {\n  var itemId = props.commentId;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isHidden = _useState2[0],\n      setIsHidden = _useState2[1];\n\n  var _useState3 = useState({\n    \"childIDs\": [],\n    \"comments\": 0,\n    \"date\": \" \",\n    \"description\": \" \",\n    \"id\": \" \",\n    \"parrentID\": \" \",\n    \"time\": \" \",\n    \"title\": \" \",\n    \"user\": \" \"\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      comment = _useState4[0],\n      setComment = _useState4[1];\n\n  useEffect(function () {\n    getComment();\n  }, []);\n\n  function getComment() {\n    return _regeneratorRuntime.async(function getComment$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(firebase.database().ref(\"posts/\").child(itemId).once(\"value\", function (snapshot) {\n              var data = snapshot.val();\n\n              if (data != null) {\n                setComment(JSON.parse(JSON.stringify(data)));\n              }\n            }));\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  var indentSize = props.indentSize;\n  return React.createElement(TouchableOpacity, {\n    onLongPress: function onLongPress() {\n      setIsHidden(!isHidden);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: [styles.container, {\n      paddingLeft: 25 * indentSize\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: [styles.topArea, {}],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, React.createElement(Avatar, {\n    avatarName: comment.user,\n    size: 28,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }), React.createElement(Text, {\n    style: styles.userText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, \"Commented by \", comment.user), React.createElement(Text, {\n    style: styles.timeText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, \"- \", comment.time)), React.createElement(View, {\n    style: [styles.middleArea, {}],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, getCommentTitle(comment.title.replace(/(\\r\\n|\\n|\\r)/gm, \" \")), getCommentBody(comment.description.replace(/(\\r\\n|\\n|\\r)/gm, \" \")))), comment.hasOwnProperty(\"childIDs\") && comment.childIDs.length != 0 ? isHidden ? comment.childIDs.map(function (id) {\n    return React.createElement(Comment, {\n      commentId: id,\n      m: true,\n      indentSize: indentSize + 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 27\n      }\n    });\n  }) : React.createElement(View, {\n    style: styles.hiddenView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }) : null);\n};\n\nexport { Comment };\n\nfunction getCommentTitle(title) {\n  if (title == \"\" || title === \"\" || title == \" \" || title === \" \") {\n    return;\n  } else {\n    return React.createElement(Text, {\n      style: styles.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 12\n      }\n    }, title);\n  }\n}\n\nfunction getCommentBody(body) {\n  if (body == \"\" || body === \"\" || body == \" \" || body === \" \") {\n    return;\n  } else {\n    return React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 12\n      }\n    }, body);\n  }\n}\n\nvar styles = StyleSheet.create({\n  hiddenView: {\n    paddingBottom: 2,\n    borderBottomWidth: 2,\n    borderBottomColor: \"#bdbdbd\",\n    backgroundColor: \"#d6d6d6\"\n  },\n  leftTop: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  rightTop: {\n    alignItems: \"flex-end\",\n    flex: 1\n  },\n  container: {\n    borderBottomWidth: 1,\n    borderColor: \"#e6e6e6\",\n    paddingVertical: 10,\n    paddingRight: 20,\n    flexDirection: \"column\"\n  },\n  topArea: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 10\n  },\n  middleArea: {\n    flexDirection: \"column\",\n    paddingVertical: 8,\n    paddingLeft: 45\n  },\n  userText: {\n    color: '#808080',\n    fontSize: 12,\n    paddingLeft: 5\n  },\n  timeText: {\n    color: '#808080',\n    fontSize: 12\n  },\n  title: {\n    fontWeight: \"700\",\n    paddingBottom: 4\n  }\n});","map":{"version":3,"sources":["/Users/dommccann/Documents/Personal/git/web-scraping-app/app/components/Comment.js"],"names":["React","useState","useEffect","Avatar","firebase","Comment","props","itemId","commentId","isHidden","setIsHidden","comment","setComment","getComment","database","ref","child","once","snapshot","data","val","JSON","parse","stringify","indentSize","styles","container","paddingLeft","topArea","user","userText","timeText","time","middleArea","getCommentTitle","title","replace","getCommentBody","description","hasOwnProperty","childIDs","length","map","id","hiddenView","body","StyleSheet","create","paddingBottom","borderBottomWidth","borderBottomColor","backgroundColor","leftTop","flexDirection","alignItems","rightTop","flex","borderColor","paddingVertical","paddingRight","paddingHorizontal","color","fontSize","fontWeight"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity\n} from 'react-native';\nimport { Avatar } from \"../components/Avatar\";\nimport { firebase } from \"../services/Firebase\";\n\nconst Comment = ( props ) => {\n    const itemId = props.commentId;\n    const [isHidden, setIsHidden] = useState(true);\n    const [comment, setComment] = useState({\n      \"childIDs\": [],\n      \"comments\": 0,\n      \"date\": \" \",\n      \"description\": \" \",\n      \"id\": \" \",\n      \"parrentID\": \" \",\n      \"time\": \" \",\n      \"title\": \" \",\n      \"user\": \" \",\n  });\n\n    useEffect(() => {\n      getComment();\n    }, []);\n\n    async function getComment() {\n      //fetches thread from db\n      return await firebase\n      .database()\n      .ref(\"posts/\")\n      .child(itemId)\n      .once(\"value\", function (snapshot) {\n        let data = snapshot.val();\n        if (data != null) {\n          setComment(JSON.parse(JSON.stringify(data)));\n        }\n      });\n    }\n\n    var indentSize = props.indentSize;\n\n    return(\n        <TouchableOpacity \n          onLongPress={() => {\n            setIsHidden(!isHidden);\n          }\n        }>\n            <View style={[styles.container, {paddingLeft: 25*indentSize}]}>\n                <View style={[styles.topArea, { }]}>\n                        <Avatar avatarName={comment.user} size={28}></Avatar>\n                        <Text style={styles.userText}>Commented by {comment.user}</Text>\n    <Text style={styles.timeText}>- {comment.time}</Text>\n                </View>\n                <View style={[styles.middleArea, { }]}>\n                    {getCommentTitle((comment.title).replace(/(\\r\\n|\\n|\\r)/gm,\" \"))}\n                    {getCommentBody((comment.description).replace(/(\\r\\n|\\n|\\r)/gm,\" \"))}\n                </View>\n            </View>\n                { \n                  (comment.hasOwnProperty(\"childIDs\") && comment.childIDs.length != 0) ? \n                    isHidden ? (\n                      comment.childIDs.map((id) => (\n                          <Comment commentId={id}m indentSize={indentSize+1}/>\n                      ))) : <View style={styles.hiddenView}></View>\n                  : null\n                }\n        </TouchableOpacity>\n    );\n};\n\nexport { Comment }\n\nfunction getCommentTitle(title) {\n  if (title == \"\" || title === \"\" || title == \" \"|| title === \" \") {\n    return;\n  } else {\n    return <Text style={styles.title}>{title}</Text>\n  }\n  \n}\n\nfunction getCommentBody(body) {\n  if (body == \"\" || body === \"\" || body == \" \"|| body === \" \") {\n    return;\n  } else {\n    return <Text>{body}</Text>\n  }\n}\n\nconst styles = StyleSheet.create({\n  hiddenView: {\n    paddingBottom: 2,\n    borderBottomWidth: 2,\n    borderBottomColor: \"#bdbdbd\",\n    backgroundColor: \"#d6d6d6\",\n  },\n    leftTop: {\n        flexDirection: \"row\",\n        alignItems: \"center\",\n    },\n    rightTop: {\n        alignItems: \"flex-end\",\n        flex: 1,\n    },\n    container: {\n        borderBottomWidth: 1,\n        borderColor: \"#e6e6e6\",\n        paddingVertical: 10,\n        paddingRight: 20,\n        flexDirection: \"column\",\n    },\n    topArea: {\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        paddingHorizontal: 10,\n    },\n    middleArea: {\n        flexDirection: \"column\",\n        paddingVertical: 8,\n        paddingLeft: 45,\n    },\n    userText: {\n        color: '#808080',\n        fontSize: 12,\n        paddingLeft: 5,\n    },\n    timeText: {\n      color: '#808080',\n      fontSize: 12,\n  },\n    title: {\n        fontWeight: \"700\",\n        paddingBottom: 4,\n    }\n});\n"]},"metadata":{},"sourceType":"module"}