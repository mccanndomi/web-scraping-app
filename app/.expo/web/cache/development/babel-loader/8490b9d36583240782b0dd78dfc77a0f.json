{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/dommccann/Documents/Personal/git/web-scraping-app/app/components/Comment.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Avatar } from \"../components/Avatar\";\nimport { firebase } from \"../services/Firebase\";\nimport { useTheme } from \"@react-navigation/native\";\n\nvar Comment = function Comment(props) {\n  var _useTheme = useTheme(),\n      dark = _useTheme.dark,\n      colors = _useTheme.colors;\n\n  var itemId = props.commentId;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isHidden = _useState2[0],\n      setIsHidden = _useState2[1];\n\n  var _useState3 = useState({\n    childIDs: [],\n    comments: 0,\n    date: \" \",\n    description: \" \",\n    id: \" \",\n    parrentID: \" \",\n    time: \" \",\n    title: \" \",\n    user: \" \"\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      comment = _useState4[0],\n      setComment = _useState4[1];\n\n  useEffect(function () {\n    getComment();\n  }, []);\n\n  function getComment() {\n    return _regeneratorRuntime.async(function getComment$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(firebase.database().ref(\"posts/\").child(itemId).once(\"value\", function (snapshot) {\n              var data = snapshot.val();\n\n              if (data != null) {\n                setComment(JSON.parse(JSON.stringify(data)));\n              }\n            }));\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  var indentSize = props.indentSize;\n  return isHidden ? React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: [styles.container, {\n      marginLeft: indentSize == 0 ? 0 : 20,\n      borderColor: dark == true ? \"#303030\" : \"#e0e0e0\",\n      backgroundColor: colors.card\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    onLongPress: function onLongPress() {\n      setIsHidden(!isHidden);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: [styles.topArea, {}],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, React.createElement(Avatar, {\n    avatarName: comment.user,\n    size: 28,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }), React.createElement(Text, {\n    style: styles.userText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, \"Commented by \", comment.user), React.createElement(Text, {\n    style: styles.timeText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, \"- \", comment.time)), React.createElement(View, {\n    style: [styles.middleArea, {}],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, getCommentTitle(comment.title.replace(/(\\r\\n|\\n|\\r)/gm, \"\")), getCommentBody(comment.description.replace(/(\\r\\n|\\n|\\r)/gm, \"\"))))), React.createElement(View, {\n    styles: styles.bottomRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }), comment.hasOwnProperty(\"childIDs\") && comment.childIDs.length != 0 ? isHidden ? comment.childIDs.map(function (id) {\n    return React.createElement(Comment, {\n      commentId: id,\n      m: true,\n      indentSize: indentSize + 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    });\n  }) : React.createElement(View, {\n    style: styles.hiddenView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }) : null)) : React.createElement(View, {\n    style: [styles.container, {\n      marginLeft: indentSize == 0 ? 0 : 20,\n      borderColor: dark == true ? \"#303030\" : \"#e0e0e0\",\n      backgroundColor: colors.card\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableOpacity, {\n    onLongPress: function onLongPress() {\n      setIsHidden(!isHidden);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: [styles.topArea, {}],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: {\n      paddingBottom: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, React.createElement(Avatar, {\n    avatarName: comment.user,\n    size: 28,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  })), getHiddenCommentTitle(comment.title.replace(/(\\r\\n|\\n|\\r)/gm, \"\"), comment.description.replace(/(\\r\\n|\\n|\\r)/gm, \"\"))))));\n};\n\nexport { Comment };\n\nfunction getCommentTitle(title) {\n  var _useTheme2 = useTheme(),\n      colors = _useTheme2.colors;\n\n  if (title == \"\" || title === \"\" || title == \" \" || title === \" \") {\n    return;\n  } else {\n    return React.createElement(Text, {\n      style: [styles.title, {\n        color: colors.text,\n        paddingBottom: 2\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }\n    }, title);\n  }\n}\n\nfunction getHiddenCommentTitle(title, body) {\n  var _useTheme3 = useTheme(),\n      colors = _useTheme3.colors;\n\n  if (title == \"\" || title === \"\" || title == \" \" || title === \" \") {\n    return React.createElement(Text, {\n      numberOfLines: 1,\n      style: [styles.title, {\n        color: colors.text,\n        paddingLeft: 8,\n        marginRight: 30\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }\n    }, body);\n  } else {\n    return React.createElement(Text, {\n      numberOfLines: 1,\n      style: [styles.title, {\n        color: colors.text,\n        paddingLeft: 8,\n        marginRight: 30\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, title);\n  }\n}\n\nfunction getCommentBody(body) {\n  var _useTheme4 = useTheme(),\n      colors = _useTheme4.colors;\n\n  if (body == \"\" || body === \"\" || body == \" \" || body === \" \") {\n    return;\n  } else {\n    return React.createElement(Text, {\n      style: {\n        color: colors.text\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 12\n      }\n    }, body);\n  }\n}\n\nvar styles = StyleSheet.create({\n  bottomRow: {},\n  hiddenView: {},\n  leftTop: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  rightTop: {\n    alignItems: \"flex-end\",\n    flex: 1\n  },\n  container: {\n    flex: 1,\n    borderLeftWidth: 1,\n    marginTop: 10,\n    paddingRight: 10,\n    paddingTop: 8,\n    flexDirection: \"column\"\n  },\n  topArea: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 10\n  },\n  middleArea: {\n    flexDirection: \"column\",\n    paddingLeft: 45,\n    paddingBottom: 12\n  },\n  userText: {\n    color: \"#949494\",\n    fontSize: 12,\n    paddingLeft: 5\n  },\n  timeText: {\n    color: \"#949494\",\n    fontSize: 12\n  },\n  title: {\n    fontWeight: \"700\",\n    paddingBottom: 2\n  }\n});","map":{"version":3,"sources":["/Users/dommccann/Documents/Personal/git/web-scraping-app/app/components/Comment.js"],"names":["React","useState","useEffect","Avatar","firebase","useTheme","Comment","props","dark","colors","itemId","commentId","isHidden","setIsHidden","childIDs","comments","date","description","id","parrentID","time","title","user","comment","setComment","getComment","database","ref","child","once","snapshot","data","val","JSON","parse","stringify","indentSize","styles","container","marginLeft","borderColor","backgroundColor","card","topArea","userText","timeText","middleArea","getCommentTitle","replace","getCommentBody","bottomRow","hasOwnProperty","length","map","hiddenView","paddingBottom","getHiddenCommentTitle","color","text","body","paddingLeft","marginRight","StyleSheet","create","leftTop","flexDirection","alignItems","rightTop","flex","borderLeftWidth","marginTop","paddingRight","paddingTop","paddingHorizontal","fontSize","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity,\n  ScrollView,\n} from \"react-native\";\nimport { Avatar } from \"../components/Avatar\";\nimport { firebase } from \"../services/Firebase\";\nimport { useTheme } from \"@react-navigation/native\";\n\nconst Comment = (props) => {\n  const { dark, colors } = useTheme();\n  const itemId = props.commentId;\n  const [isHidden, setIsHidden] = useState(true);\n  const [comment, setComment] = useState({\n    childIDs: [],\n    comments: 0,\n    date: \" \",\n    description: \" \",\n    id: \" \",\n    parrentID: \" \",\n    time: \" \",\n    title: \" \",\n    user: \" \",\n  });\n\n  useEffect(() => {\n    getComment();\n  }, []);\n\n  async function getComment() {\n    //fetches thread from db\n    return await firebase\n      .database()\n      .ref(\"posts/\")\n      .child(itemId)\n      .once(\"value\", function (snapshot) {\n        let data = snapshot.val();\n        if (data != null) {\n          setComment(JSON.parse(JSON.stringify(data)));\n        }\n      });\n  }\n\n  var indentSize = props.indentSize;\n\n  return isHidden ? (\n    <View>\n      <View\n        style={[\n          styles.container,\n          {\n            //paddingLeft: 5 * indentSize,\n            marginLeft: indentSize == 0 ? 0 : 20,\n            borderColor: dark == true ? \"#303030\" : \"#e0e0e0\",\n            backgroundColor: colors.card,\n          },\n        ]}\n      >\n        <TouchableOpacity\n          onLongPress={() => {\n            setIsHidden(!isHidden);\n          }}\n        >\n          <View>\n            <View style={[styles.topArea, {}]}>\n              <Avatar avatarName={comment.user} size={28}></Avatar>\n              <Text style={styles.userText}>Commented by {comment.user}</Text>\n              <Text style={styles.timeText}>- {comment.time}</Text>\n            </View>\n            <View style={[styles.middleArea, {}]}>\n              {getCommentTitle(comment.title.replace(/(\\r\\n|\\n|\\r)/gm, \"\"))}\n              {getCommentBody(\n                comment.description.replace(/(\\r\\n|\\n|\\r)/gm, \"\")\n              )}\n            </View>\n          </View>\n        </TouchableOpacity>\n        <View styles={styles.bottomRow}>\n          {/* <MaterialCommunityIcons name=\"reply\" size={18} color=\"#949494\" /> */}\n        </View>\n        {comment.hasOwnProperty(\"childIDs\") && comment.childIDs.length != 0 ? (\n          isHidden ? (\n            comment.childIDs.map((id) => (\n              <Comment commentId={id} m indentSize={indentSize + 1} />\n            ))\n          ) : (\n            <View style={styles.hiddenView}></View>\n          )\n        ) : null}\n      </View>\n    </View>\n  ) : (\n    <View\n      style={[\n        styles.container,\n        {\n          marginLeft: indentSize == 0 ? 0 : 20,\n          borderColor: dark == true ? \"#303030\" : \"#e0e0e0\",\n          backgroundColor: colors.card,\n        },\n      ]}\n    >\n      <TouchableOpacity\n        onLongPress={() => {\n          setIsHidden(!isHidden);\n        }}\n      >\n        <View>\n          <View style={[styles.topArea, {}]}>\n            <View style={{ paddingBottom: 8 }}>\n              <Avatar avatarName={comment.user} size={28}></Avatar>\n            </View>\n            {getHiddenCommentTitle(\n              comment.title.replace(/(\\r\\n|\\n|\\r)/gm, \"\"),\n              comment.description.replace(/(\\r\\n|\\n|\\r)/gm, \"\")\n            )}\n          </View>\n        </View>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nexport { Comment };\n\nfunction getCommentTitle(title) {\n  const { colors } = useTheme();\n  if (title == \"\" || title === \"\" || title == \" \" || title === \" \") {\n    return;\n  } else {\n    return (\n      <Text style={[styles.title, { color: colors.text, paddingBottom: 2 }]}>\n        {title}\n      </Text>\n    );\n  }\n}\n\nfunction getHiddenCommentTitle(title, body) {\n  const { colors } = useTheme();\n  if (title == \"\" || title === \"\" || title == \" \" || title === \" \") {\n    return (\n      <Text\n        numberOfLines={1}\n        style={[\n          styles.title,\n          { color: colors.text, paddingLeft: 8, marginRight: 30 },\n        ]}\n      >\n        {body}\n      </Text>\n    );\n  } else {\n    return (\n      <Text\n        numberOfLines={1}\n        style={[\n          styles.title,\n          { color: colors.text, paddingLeft: 8, marginRight: 30 },\n        ]}\n      >\n        {title}\n      </Text>\n    );\n  }\n}\n\nfunction getCommentBody(body) {\n  const { colors } = useTheme();\n  if (body == \"\" || body === \"\" || body == \" \" || body === \" \") {\n    return;\n  } else {\n    return <Text style={{ color: colors.text }}>{body}</Text>;\n  }\n}\n\nconst styles = StyleSheet.create({\n  bottomRow: {\n    //flexDirection: \"row\",\n  },\n  hiddenView: {},\n  leftTop: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  rightTop: {\n    alignItems: \"flex-end\",\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n    borderLeftWidth: 1,\n    marginTop: 10,\n    paddingRight: 10,\n    paddingTop: 8,\n    flexDirection: \"column\",\n  },\n  topArea: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 10,\n  },\n  middleArea: {\n    flexDirection: \"column\",\n    paddingLeft: 45,\n    paddingBottom: 12,\n  },\n  userText: {\n    color: \"#949494\", //THEME CHANGES\n    fontSize: 12,\n    paddingLeft: 5,\n  },\n  timeText: {\n    color: \"#949494\", //THEME CHANGES\n    fontSize: 12,\n  },\n  title: {\n    fontWeight: \"700\",\n    paddingBottom: 2,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}