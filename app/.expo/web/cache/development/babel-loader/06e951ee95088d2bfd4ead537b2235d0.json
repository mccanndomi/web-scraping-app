{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/dommccann/Documents/Personal/git/web-scraping-app/app/pages/Thread.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport { Avatar } from \"../components/Avatar\";\nimport { Comment } from \"../components/Comment\";\nimport { LinkPreview } from \"../components/LinkPreview\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport { firebase } from \"../services/Firebase\";\nimport { useTheme } from \"@react-navigation/native\";\nexport default function Thread(_ref) {\n  var _this = this;\n\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useTheme = useTheme(),\n      colors = _useTheme.colors;\n\n  var itemId = route.params.itemId;\n\n  var _useState = useState({\n    childIDs: [],\n    comments: 0,\n    date: \" \",\n    description: \" \",\n    id: \" \",\n    parrentID: \" \",\n    time: \" \",\n    title: \" \",\n    user: \" \"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      thread = _useState2[0],\n      setThread = _useState2[1];\n\n  useEffect(function () {\n    getThread();\n  }, []);\n\n  function getThread() {\n    return _regeneratorRuntime.async(function getThread$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(firebase.database().ref(\"posts/\").child(itemId).once(\"value\", function (snapshot) {\n              var data = snapshot.val();\n\n              if (data != null) {\n                setThread(JSON.parse(JSON.stringify(data)));\n              }\n            }));\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(View, {\n    style: {\n      paddingTop: Platform.OS === \"android\" ? StatusBar.currentHeight : 0\n    }\n  }, React.createElement(SafeAreaView, {\n    style: {\n      backgroundColor: colors.card\n    }\n  }), React.createElement(ScrollView, null, React.createElement(View, {\n    style: [styles.threadBody, {\n      backgroundColor: colors.card\n    }]\n  }, React.createElement(View, {\n    style: styles.topArea\n  }, React.createElement(Avatar, {\n    avatarName: thread.user,\n    size: 34\n  }), React.createElement(Text, {\n    style: styles.userText\n  }, \"Posted by \", thread.user), React.createElement(Text, {\n    style: styles.timeText\n  }, \"- \", thread.time)), React.createElement(View, {\n    style: styles.middleArea\n  }, React.createElement(Text, {\n    style: [styles.titleText, {\n      color: colors.text\n    }]\n  }, thread.title.replace(/(\\r\\n|\\n|\\r)/gm, \" \")), React.createElement(Text, {\n    style: [styles.bodyText, {\n      color: colors.text\n    }]\n  }, thread.description.replace(/(\\r\\n|\\n|\\r)/gm, \" \")), thread.title == \"Not only did we score but\" ? React.createElement(LinkPreview, {\n    url: \"https://www.bbc.com/sport/football/55321152\"\n  }) : null), React.createElement(View, {\n    style: styles.bottomArea\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"comment\",\n    size: 18,\n    color: \"#949494\"\n  }), React.createElement(Text, {\n    style: styles.bottomText\n  }, thread.comments), React.createElement(MaterialCommunityIcons, {\n    name: \"calendar-blank\",\n    size: 18,\n    color: \"#949494\"\n  }), React.createElement(Text, {\n    style: styles.bottomText\n  }, thread.date))), React.createElement(View, {\n    style: styles.threadComments\n  }, thread.childIDs.map(function (id) {\n    return React.createElement(Comment, {\n      commentId: id,\n      key: id,\n      indentSize: 0\n    });\n  }))));\n}\nvar styles = StyleSheet.create({\n  threadBody: {\n    padding: 10\n  },\n  titleText: {\n    fontWeight: \"600\",\n    fontSize: 20,\n    padding: 10\n  },\n  bodyText: {\n    paddingHorizontal: 10,\n    paddingBottom: 10\n  },\n  userText: {\n    color: \"#949494\",\n    fontStyle: \"italic\",\n    fontSize: 16,\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 10\n  },\n  timeText: {\n    color: \"#949494\",\n    fontStyle: \"italic\",\n    fontSize: 14,\n    paddingTop: 10,\n    paddingBottom: 10\n  },\n  bottomText: {\n    color: \"#949494\",\n    fontWeight: \"600\",\n    fontSize: 16,\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 5,\n    paddingRight: 25\n  },\n  topArea: {\n    flexDirection: \"row\",\n    paddingLeft: 10,\n    alignItems: \"center\"\n  },\n  middleArea: {},\n  bottomArea: {\n    flexDirection: \"row\",\n    paddingLeft: 10,\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"sources":["/Users/dommccann/Documents/Personal/git/web-scraping-app/app/pages/Thread.js"],"names":["React","useState","useEffect","Avatar","Comment","LinkPreview","MaterialCommunityIcons","ScrollView","firebase","useTheme","Thread","route","navigation","colors","itemId","params","childIDs","comments","date","description","id","parrentID","time","title","user","thread","setThread","getThread","database","ref","child","once","snapshot","data","val","JSON","parse","stringify","paddingTop","Platform","OS","StatusBar","currentHeight","backgroundColor","card","styles","threadBody","topArea","userText","timeText","middleArea","titleText","color","text","replace","bodyText","bottomArea","bottomText","threadComments","map","StyleSheet","create","padding","fontWeight","fontSize","paddingHorizontal","paddingBottom","fontStyle","paddingLeft","paddingRight","flexDirection","alignItems"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Alert,\n  StyleSheet,\n  Text,\n  SafeAreaView,\n  View,\n  Platform,\n  StatusBar,\n} from \"react-native\";\nimport { Avatar } from \"../components/Avatar\";\nimport { Comment } from \"../components/Comment\";\nimport { LinkPreview } from \"../components/LinkPreview\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport { firebase } from \"../services/Firebase\";\nimport { useTheme } from \"@react-navigation/native\";\n\nexport default function Thread({ route, navigation }) {\n  const { colors } = useTheme();\n  const { itemId } = route.params;\n  const [thread, setThread] = useState({\n    childIDs: [],\n    comments: 0,\n    date: \" \",\n    description: \" \",\n    id: \" \",\n    parrentID: \" \",\n    time: \" \",\n    title: \" \",\n    user: \" \",\n  });\n\n  useEffect(() => {\n    getThread();\n  }, []);\n\n  async function getThread() {\n    //fetches thread from db\n    return await firebase\n      .database()\n      .ref(\"posts/\")\n      .child(itemId)\n      .once(\"value\", function (snapshot) {\n        let data = snapshot.val();\n        if (data != null) {\n          setThread(JSON.parse(JSON.stringify(data)));\n        }\n      });\n  }\n\n  return (\n    <View\n      style={{\n        paddingTop: Platform.OS === \"android\" ? StatusBar.currentHeight : 0,\n      }}\n    >\n      <SafeAreaView style={{ backgroundColor: colors.card }} />\n      <ScrollView>\n        <View\n          style={[\n            styles.threadBody,\n            {\n              backgroundColor: colors.card,\n            },\n          ]}\n        >\n          <View style={styles.topArea}>\n            <Avatar avatarName={thread.user} size={34}></Avatar>\n            <Text style={styles.userText}>Posted by {thread.user}</Text>\n            <Text style={styles.timeText}>- {thread.time}</Text>\n          </View>\n          <View style={styles.middleArea}>\n            <Text\n              style={[\n                styles.titleText,\n                {\n                  color: colors.text,\n                },\n              ]}\n            >\n              {thread.title.replace(/(\\r\\n|\\n|\\r)/gm, \" \")}\n            </Text>\n            <Text\n              style={[\n                styles.bodyText,\n                {\n                  color: colors.text,\n                },\n              ]}\n            >\n              {thread.description.replace(/(\\r\\n|\\n|\\r)/gm, \" \")}\n            </Text>\n            {thread.title == \"Not only did we score but\" ? (\n              <LinkPreview url=\"https://www.bbc.com/sport/football/55321152\" />\n            ) : //<LinkPreview url=\"https://www.evertonfc.com/news/1939598/evertons-january-premier-league-fixtures-moved-for-tv\" />\n            null}\n          </View>\n          <View style={styles.bottomArea}>\n            <MaterialCommunityIcons name=\"comment\" size={18} color=\"#949494\" />\n            <Text style={styles.bottomText}>{thread.comments}</Text>\n            <MaterialCommunityIcons\n              name=\"calendar-blank\"\n              size={18}\n              color=\"#949494\"\n            />\n            <Text style={styles.bottomText}>{thread.date}</Text>\n          </View>\n        </View>\n        <View style={styles.threadComments}>\n          {thread.childIDs.map((id) => (\n            <Comment commentId={id} key={id} indentSize={0} />\n          ))}\n        </View>\n      </ScrollView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  threadBody: {\n    padding: 10,\n  },\n  titleText: {\n    fontWeight: \"600\",\n    fontSize: 20,\n    padding: 10,\n  },\n  bodyText: {\n    paddingHorizontal: 10,\n    paddingBottom: 10,\n  },\n  userText: {\n    color: \"#949494\", // THEME CHANGES\n    fontStyle: \"italic\",\n    fontSize: 16,\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 10,\n  },\n  timeText: {\n    color: \"#949494\", //THEME CHANGES\n    fontStyle: \"italic\",\n    fontSize: 14,\n    paddingTop: 10,\n    paddingBottom: 10,\n  },\n  bottomText: {\n    color: \"#949494\", //THEME CHANGES\n    fontWeight: \"600\",\n    fontSize: 16,\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 5,\n    paddingRight: 25,\n  },\n  topArea: {\n    flexDirection: \"row\",\n    paddingLeft: 10,\n    alignItems: \"center\",\n  },\n  middleArea: {},\n  bottomArea: {\n    flexDirection: \"row\",\n    paddingLeft: 10,\n    alignItems: \"center\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}